{"ast":null,"code":"import React,{useState,useRef,useCallback}from'react';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[time,setTime]=useState(0);const[running,setRunning]=useState(false);const timer=useRef(null);const lastTime=useRef(0);const lastSecond=useRef(0);const tickAudio=useRef(null);// Preload a realistic watch tick sound\nconst playTick=()=>{if(!tickAudio.current){// Create a more realistic analog watch tick using Web Audio API\nconst context=new(window.AudioContext||window.webkitAudioContext)();const oscillator=context.createOscillator();const gainNode=context.createGain();oscillator.connect(gainNode);gainNode.connect(context.destination);// Analog watch characteristics:\noscillator.frequency.value=1200;// Higher frequency for metallic tick\ngainNode.gain.value=0.08;// Very low volume for subtle tick\noscillator.type='sine';// Quick attack and decay for sharp \"tick\" sound\ngainNode.gain.setValueAtTime(0.08,context.currentTime);gainNode.gain.exponentialRampToValueAtTime(0.001,context.currentTime+0.08);oscillator.start();oscillator.stop(context.currentTime+0.08);// Very short, sharp tick\n}};const start=()=>{if(!running){setRunning(true);lastTime.current=Date.now();lastSecond.current=Math.floor(time/1000);timer.current=setInterval(()=>{const now=Date.now();const elapsed=now-lastTime.current;lastTime.current=now;setTime(prev=>{const newTime=prev+elapsed;const currentSecond=Math.floor(newTime/1000);// Play realistic tick sound every new second\nif(currentSecond!==lastSecond.current){lastSecond.current=currentSecond;playTick();}return newTime;});},10);}};const stop=()=>{if(running){setRunning(false);if(timer.current){clearInterval(timer.current);timer.current=null;}}};const reset=()=>{setRunning(false);if(timer.current){clearInterval(timer.current);timer.current=null;}setTime(0);lastSecond.current=0;};const formatTime=useCallback(ms=>{const minutes=Math.floor(ms/60000);const seconds=Math.floor(ms%60000/1000);const milliseconds=Math.floor(ms%1000/10);return\"\".concat(minutes,\":\").concat(seconds<10?\"0\":\"\").concat(seconds,\".\").concat(milliseconds<10?\"0\":\"\").concat(milliseconds);},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"time\",children:formatTime(time)}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"button startButton \".concat(running?'disabled':''),onClick:start,disabled:running,children:\"Start\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button stopButton \".concat(running?'stopButtonActive':'',\" \").concat(!running?'disabled':''),onClick:stop,disabled:!running,children:\"Stop\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button resetButton\",onClick:reset,children:\"Reset\"})]})]});}export default App;","map":{"version":3,"names":["React","useState","useRef","useCallback","jsx","_jsx","jsxs","_jsxs","App","time","setTime","running","setRunning","timer","lastTime","lastSecond","tickAudio","playTick","current","context","window","AudioContext","webkitAudioContext","oscillator","createOscillator","gainNode","createGain","connect","destination","frequency","value","gain","type","setValueAtTime","currentTime","exponentialRampToValueAtTime","start","stop","Date","now","Math","floor","setInterval","elapsed","prev","newTime","currentSecond","clearInterval","reset","formatTime","ms","minutes","seconds","milliseconds","concat","className","children","onClick","disabled"],"sources":["/data/data/com.termux/files/home/stopwatch-app/stopwatch-web/src/App.js"],"sourcesContent":["import React, { useState, useRef, useCallback } from 'react';\nimport './App.css';\n\nfunction App() {\n  const [time, setTime] = useState(0);\n  const [running, setRunning] = useState(false);\n  const timer = useRef(null);\n  const lastTime = useRef(0);\n  const lastSecond = useRef(0);\n  const tickAudio = useRef(null);\n\n  // Preload a realistic watch tick sound\n  const playTick = () => {\n    if (!tickAudio.current) {\n      // Create a more realistic analog watch tick using Web Audio API\n      const context = new (window.AudioContext || window.webkitAudioContext)();\n      const oscillator = context.createOscillator();\n      const gainNode = context.createGain();\n      \n      oscillator.connect(gainNode);\n      gainNode.connect(context.destination);\n      \n      // Analog watch characteristics:\n      oscillator.frequency.value = 1200; // Higher frequency for metallic tick\n      gainNode.gain.value = 0.08; // Very low volume for subtle tick\n      oscillator.type = 'sine';\n      \n      // Quick attack and decay for sharp \"tick\" sound\n      gainNode.gain.setValueAtTime(0.08, context.currentTime);\n      gainNode.gain.exponentialRampToValueAtTime(0.001, context.currentTime + 0.08);\n      \n      oscillator.start();\n      oscillator.stop(context.currentTime + 0.08); // Very short, sharp tick\n    }\n  };\n\n  const start = () => {\n    if (!running) {\n      setRunning(true);\n      lastTime.current = Date.now();\n      lastSecond.current = Math.floor(time / 1000);\n      \n      timer.current = setInterval(() => {\n        const now = Date.now();\n        const elapsed = now - lastTime.current;\n        lastTime.current = now;\n        \n        setTime(prev => {\n          const newTime = prev + elapsed;\n          const currentSecond = Math.floor(newTime / 1000);\n          \n          // Play realistic tick sound every new second\n          if (currentSecond !== lastSecond.current) {\n            lastSecond.current = currentSecond;\n            playTick();\n          }\n          \n          return newTime;\n        });\n      }, 10);\n    }\n  };\n\n  const stop = () => {\n    if (running) {\n      setRunning(false);\n      if (timer.current) {\n        clearInterval(timer.current);\n        timer.current = null;\n      }\n    }\n  };\n\n  const reset = () => {\n    setRunning(false);\n    if (timer.current) {\n      clearInterval(timer.current);\n      timer.current = null;\n    }\n    setTime(0);\n    lastSecond.current = 0;\n  };\n\n  const formatTime = useCallback((ms) => {\n    const minutes = Math.floor(ms / 60000);\n    const seconds = Math.floor((ms % 60000) / 1000);\n    const milliseconds = Math.floor((ms % 1000) / 10);\n    return `${minutes}:${seconds < 10 ? \"0\" : \"\"}${seconds}.${\n      milliseconds < 10 ? \"0\" : \"\"\n    }${milliseconds}`;\n  }, []);\n\n  return (\n    <div className=\"container\">\n      <div className=\"time\">{formatTime(time)}</div>\n      <div className=\"buttons\">\n        <button \n          className={`button startButton ${running ? 'disabled' : ''}`}\n          onClick={start}\n          disabled={running}\n        >\n          Start\n        </button>\n        \n        <button \n          className={`button stopButton ${running ? 'stopButtonActive' : ''} ${!running ? 'disabled' : ''}`}\n          onClick={stop}\n          disabled={!running}\n        >\n          Stop\n        </button>\n        \n        <button \n          className=\"button resetButton\"\n          onClick={reset}\n        >\n          Reset\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}